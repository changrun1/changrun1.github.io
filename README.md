<div align="center">

# 瑼??澈 / ??鞎潛頂蝯?(Vue + Cloudflare Worker + GitHub)

銝??鞈?摨怒?敺垢???瑼??????澈撟喳??蝡舐 SPA嚗?蝡臭誑 Cloudflare Worker ?湔撖怠 GitHub Repository嚗???銝 / ?” / ?汗 / 銝? / ?芷 ?冽?蝔?犖??蝯?漱?摰嫘票蝔??挾???瑼?

<sub>Chinese primary documentation. English summary below.</sub>

</div>

---

## ???詨??寡
* ?∟??澈嚗?獢????單?獢??湔 commit ?脫?摰?GitHub Repo??* ?垢?單?憿舐內嚗?摮??批捆?券???嚗票銝??喳銴ˊ??* 隤?擃漁 + 銵?嚗?游虜閬?撘Ⅳ嚗s/ts/css/html/json/py 蝑???* ???舫?閬踝??嗡?瑼??湔銝???* ?芾?蝝?摮瑼?嚗xt / md / ?芾??望 1??2嚗?* ?芾?瑼?嚗???銵?????409??* ?寞活?芷 / ?格??芷??* ?∩蝙?刻???????獢惜蝝?* ?舀??摮惜?嗆?嚗??? GitHub嚗靘?游? R2 / S3嚗?
---

## ?妤 ?銵瑽?| 撅?| ?銵?| 雿蔭 | 隤芣? |
|----|------|------|------|
| ?垢 SPA | Vue 3 + Vite + Tailwind | `site/src` | UI / 銝 / ?汗 / 蝞∠? |
| 敺垢 | Cloudflare Worker (TypeScript) | `site/cloudflare/worker` | ?嗡??喋神 GitHub???箝??|
| ?脣? | GitHub Repository | `site/uploads` | 瑼??唾???銝? DB |
| 隤?銝 | highlight.js (??頛) | ?垢 | Downloads / Preview 擃漁 |

### ?桅?璁汗
```
site/
	src/
		views/ (Downloads / Manage / Preview / Upload)
		components/UploadPanel.vue
		composables/useSiteContent.js   # ?垢閮剖?????皞?		services/ (GitHub / Worker API ?澆)
	cloudflare/worker/src/index.ts   # Worker ?亙
	uploads/                         # 銝敺???瑼?嚗蝵脣?銝???蝺刻摩嚗?```

---

## ? ??瘚?
1. ?垢銝嚗?摮?瑼?嚗? ?澆 Worker `/upload`??2. Worker 撽???瑼?嚗?? + ?詨‵?芾???嚗ase64 commit ??GitHub??3. ?垢?? `/uploads`嚗orker ???GitHub API Fallback嚗?4. ??憿??亙之撠?曉澆 Worker ?? `textContent` ???垢敹怠?憿舐內??5. 銝?嚗撥?嗡誑 Blob 閫貊?汗?其?頛?銝?仿???6. ?芷嚗orker 靘?獢?path ?芷 GitHub 撠????
---

## ?? ?垢?
```bash
cd site
npm install
npm run dev
```
撱箇蔭??閬踝?
```bash
npm run build
npm run preview
```

---

## ?? Cloudflare Worker ?函蔡
```bash
cd site/cloudflare/worker
npm install
wrangler deploy
```
閮剖? Secrets / Variables嚗ashboard ??CLI嚗?
| ?迂 | 隤芣? | 敹‵ |
|------|------|------|
| GITHUB_TOKEN | PAT嚗? repo content 甈? | ??|
| GITHUB_OWNER | GitHub 雿輻?? Org | ??|
| GITHUB_REPO  | ?格? Repo ?迂 | ??|
| GITHUB_BRANCH | ?嚗?閮?main | ???舐???|
| MAX_FILE_SIZE | 銝憭批?嚗ytes嚗??身 10MB | ?舫 |
| ALLOWED_EXTENSIONS | ?迂?舀??? | ?舫 |

?函蔡??敺?敺?Worker URL嚗?憒?`https://xxx.workers.dev`??
---

## ?? ?垢???閮剖?
蝺刻摩 `src/composables/useSiteContent.js`嚗?```js
const config = ref({
  owner: 'your-github',
  repo: 'your-repo',
  branch: 'main',
  workerBase: 'https://your-worker.workers.dev',
  uploadsDir: 'site/uploads',
})
```
?撱箇蔭??仿??唳?????
---

## ? 銝閬?
| 憿? | 瑼?璅∪? | ?酉 |
|------|----------|------|
| ??鞎?| `timestamp-base.txt|md|<custom>` | timestamp ISO ?餃???暺?|
| 瑼? | `timestamp-base.ext` / `base.ext` | ?芾???蝒???409 |
| ?芾??舀???| ???1??2嚗???`.` | ???撠神 |

蝝?摮??怎?撘Ⅳ嚗?舫?閬賢之撠??撣?`textContent`??
---

## ?? 摰撱箄降
| 銝駁? | ?暹? | ?臬?撘?|
|------|------|--------|
| 隤? | ??| Worker 撽? Header / Token |
| 瞈怎?脰風 | ?⊿????| Cloudflare Turnstile / IP ? |
| 瑼??? | ??| ?亙?脫? / ??賢???|
| 憭扳?蝑 | Git ?湔摮?| 憭扳?頧?R2 / S3嚗? meta ?? |

---

## ?妒 ??皜祈岫皜
| ? | 甇仿? | ?? |
|------|------|------|
| 銝 txt | 頛詨??? | Downloads 蝡憿舐內嚗?????.txt嚗?銴ˊ? |
| 銝 md | ??md ?舀???| ?臭?頛?+ ?汗?批捆 |
| 銝蝔?蝣?js | 鞎潛?撘Ⅳ | 擃漁 + 銵? + 銝? + ?汗 |
| 銝?? | ??png | ??閬?+ 銝? |
| ?芾??舀???note1 | ??custom?ote1 | 瑼?隞?.note1 ?脣?嚗銝? |
| ??銵? | ???芾??詨?瑼? | 蝚砌?甈∪???409 |
| ?芷?格? | Manage ?芷 | 皜?湔瘨仃 |
| ?典 | Manage ?券?芷 | uploads 皜征 |

---

## ??FAQ
**?箔?瘝? `.env`?** ?垢銝?閬????????澆 Worker ?啣?霈?? 
**?箔?頛??撱園?** 蝑? GitHub API commit 摰?嚗?摮惜??Queue?? 
**?舀?典隞摮?** ?荔?Worker ?孵神??R2/S3 Put + ?Ｙ?皜 JSON?? 
**?臬??餃?** ?航銵 Worker ??Header ?嚗?撌脩宏??OAuth/CMS?? 
**?舀?湔憭?閮擃漁?** 撘撠? highlight.js 隤?璅∠?銝西酉??
---

## ?? 餈?霈??嚗陛??
| ? | 隤芣? |
|------|------|
| 隤?銝 | Downloads / Preview 擃漁 + 銵? |
| ?芾??舀???| ?垢??銝?舀 custom ?舀???|
| ?寞活?芷 | Manage ?舀?典 |
| ?梯? .txt | Downloads 憿舐內蝘駁 .txt 撠曄韌 |
| ???汗 | ??憿舐內蝮格?拇?獢?|

---

## ?妝 ?游?撱箄降
* 銵??? / 銝駁??? (light/dark)
* WebSocket / SSE ?單??湔皜
* ?批捆?冽???嚗?蝡舐揣撘?/ Worker ??嚗?* Metadata嚗?蝐?/ ?酉嚗甈?* 銝雿? / ?脣漲??/ ?

---

## ?妤 ?舀??摮惜嚗torage Provider嚗??垢撌脣撱?provider ?質情嚗trategy pattern嚗??? `GitHub (Worker)`嚗?芣?銝??provider ??UI ?????
?游?甇仿?嚗?憒憓?R2 / S3嚗?
1. ?啣? provider嚗src/services/storageProviders.js` 銝剖??交?極撱撘?2. 撖虫??寞?嚗list`嚗??箸?獢??deleteOne`?deleteMany` / `deleteAll`??閬? `upload`
3. 撠?provider ? `listProviders()` ????
4. Worker 蝡舀憓??楝?梧?????`/upload` + ????
5. 憭銝??provider 敺?蝡航?＊蝷箔????
R2 ?詨?撖虫??孵?嚗?* Worker ?湔雿輻 R2 binding (`env.MY_BUCKET.put/get/list`)嚗??喟移蝪?JSON??* ?垢 provider ?澆 Worker `/r2/uploads`/`/r2/upload` 銋?蝡舫???* ???嚗???蝒IME????蝘????甈⊥抒偷??URL嚗?
---

## ?牧 ??
MIT嚗靘?瘙?梯矽?湛??⊿?撣嗆?靽???
---

### English Summary (Brief)
This project is a database?ess file & text sharing platform: Vue 3 SPA frontend + Cloudflare Worker backend committing directly to a GitHub repository. Features include code highlighting with line numbers, custom text extensions, image preview, direct download forcing, and bulk deletion. Deploy by: (1) setting Worker with GitHub token, (2) pointing frontend config to Worker base, (3) building static assets for any static host. Security hardening (auth / rate limit / storage offloading) is intentionally minimal and can be layered on easily.

---

?仿??望?摰??憿??芸???穿??臬???瘙?

